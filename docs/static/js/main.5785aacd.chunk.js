(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{222:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"SET_CITY",function(){return g}),a.d(n,"SET_FORECAST_DATA",function(){return R}),a.d(n,"SET_WEATHER_CITY",function(){return I}),a.d(n,"GET_WEATHER_CITY",function(){return L}),a.d(n,"setSelectedCity",function(){return z}),a.d(n,"setWeather",function(){return M});var r,c=a(0),i=a.n(c),o=a(74),u=a.n(o),l=a(18),s=a(15),d=a(16),m=a(19),f=a(17),h=a(20),y=a(21),E=a(45),p=a.n(E),w=a(80),v=a.n(w),b=a(82),O=a.n(b),j=a(81),T=a.n(j),D=a(8),S=a(47),k=a.n(S),C=a(26),_=a.n(C),N=(a(116),a(77)),W=a.n(N),x=function(e){var t,a=e.main,n=a.humidity,r=a.temp,c=e.wind.speed,i=function(e){var t=e.id;return t<300?"thunder":t<400?"drizzle":t<600?"rain":t<700?"snow":800===t?"sun":"cloud"}(e.weather[0]);return{humidity:n,temperature:(t=r,Number(W()(t).from("K").to("C").toFixed(0))),weatherState:i,wind:"".concat(c," m/s")}},A=function(e){return e.list.filter(function(e){return 12===_.a.unix(e.dt).hour()}).map(function(e){return{weekDay:_.a.unix(e.dt).format("ddd"),hour:_.a.unix(e.dt).hour(),data:x(e)}})},g="SET_CITY",R="SET_FORECAST_DATA",I="SET_WEATHER_CITY",L="GET_WEATHER_CITY",z=function(e){return function(t,a){t(function(e){return{type:g,payload:e}}(e));var n=a(),r=n.cities[e]&&n.cities[e].forecastDataDate,c=new Date;if(!(r&&c-r<6e4))return k.a.get("http://localhost:5000/v1/forecast/"+e).then(function(e){return e.data.forecast}).then(function(a){var n=A(a);t(function(e){return{type:R,payload:e}}({city:e,forecastData:n}))})}},M=function(e){return function(t){e.forEach(function(e){return t({type:L,payload:e}),k.a.get("http://localhost:5000/v1/current/"+e).then(function(e){return e.data.weather}).then(function(a){var n=x(a);t({type:I,payload:{city:e,weather:n}})})})}},Y=a(11),B=a(84),H=a(5),F=a(12),G=a(78),J=a.n(G),X=Object(Y.a)(function(e,t){return e[t]&&e[t].forecastData},function(e){return e}),K=Object(Y.a)(function(e){return P(e)},function(e){return e}),P=function(e){return J()(e).map(function(e){var t=Object(B.a)(e,2),a=t[0];return{key:a,name:a,data:t[1].weather}})},U=Object(D.c)({cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:var a=t.payload,n=a.city,r=a.forecastData;return Object(F.a)({},e,Object(H.a)({},n,Object(F.a)({},e[n],{forecastData:r,forecastDataDate:new Date})));case L:var c=t.payload;return Object(F.a)({},e,Object(H.a)({},c,Object(F.a)({},e[c],{weather:null})));case I:var i=t.payload,o=i.city,u=i.weather;return Object(F.a)({},e,Object(H.a)({},o,Object(F.a)({},e[o],{weather:u})));default:return e}},city:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;default:return e}}}),V=Object(Y.a)(function(e){return e.city},function(e){return e}),$=Object(Y.a)(function(e){return e.cities},V,X),q=Object(Y.a)(function(e){return e.cities},K),Q=a(32),Z=a.n(Q),ee=(a(65),function(e){var t=e.city,a=e.current;return i.a.createElement("div",{className:"location-container"},i.a.createElement("h1",{className:a?"c-black":""},a&&"My city: ",t))}),te=(a(38),function(e){var t=e.humidity,a=e.wind;return i.a.createElement("div",{className:"weather-extra-info-container "},i.a.createElement("span",{className:"extra-info-text"},"Humidity: ".concat(t,"%")),i.a.createElement("span",{className:"extra-info-text"},"Wind: ".concat(a)))}),ae=a(48),ne=a.n(ae),re=(r={},Object(H.a)(r,"sun","day-sunny"),Object(H.a)(r,"cloud","cloud"),Object(H.a)(r,"rain","rain"),Object(H.a)(r,"snow","snow"),Object(H.a)(r,"thunder","day-thunderstorm"),Object(H.a)(r,"drizzle","day-showers"),r),ce=function(e){var t=e.temperature,a=e.weatherState;return i.a.createElement("div",{className:"weather-temperature-container"},function(e){var t=re[e];return t?i.a.createElement(ne.a,{className:"wicon",name:t,size:"4x"}):i.a.createElement(ne.a,{className:"wicon",name:"day-sunny",size:"4x"})}(a),i.a.createElement("span",{className:"temperature"},"".concat(t)),i.a.createElement("span",{className:"temperature-type"}," C\xb0"))},ie=function(e){var t=e.data,a=t.temperature,n=t.weatherState,r=t.humidity,c=t.wind;return i.a.createElement("div",{className:"weather-data-container"},i.a.createElement(ce,{temperature:a,weatherState:n}),i.a.createElement(te,{humidity:r,wind:c}))},oe=function(e){var t=e.onWeatherLocationClick,a=e.city,n=e.data;return i.a.createElement("div",{className:"weather-location-container",onClick:t},i.a.createElement(ee,{city:a}),n?i.a.createElement(ie,{data:n}):i.a.createElement(Z.a,null))},ue=(a(73),function(e){var t=e.cities,a=e.onSelectedLocation;return i.a.createElement("div",{className:"location-list"},function(e){return e.map(function(e){return i.a.createElement(oe,{key:e.key,city:e.name,onWeatherLocationClick:function(){return function(e){a(e)}(e.name)},data:e.data})})}(t))}),le=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleSelectionLocation=function(e){a.props.setSelectedCity(e)},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setWeather,a=e.setSelectedCity,n=e.cities,r=e.city;t(n),a(r)}},{key:"render",value:function(){return i.a.createElement(ue,{cities:this.props.citiesWeather,onSelectedLocation:this.handleSelectionLocation})}}]),t}(c.Component),se=Object(l.b)(function(e){return{citiesWeather:q(e),city:V(e)}},function(e){return Object(D.b)(n,e)})(le),de=function(e){switch(e){case"dom.":return"Sunday";case"lun.":return"Monday";case"mar.":return"Tuesday";case"mi\xe9.":return"Wednesday";case"jue.":return"Thursday";case"vie.":return"Friday";case"s\xe1b.":return"Saturday";default:return""}},me=function(e){var t=e.weekDay,a=e.hour,n=e.data;return i.a.createElement("div",null,i.a.createElement("h2",null,de(t)," - ",a,"hs"),i.a.createElement(ie,{data:n}))},fe=function(e){var t=e.city,a=e.forecastData;return i.a.createElement("div",null,i.a.createElement("h2",{className:"forecast-title"},"Extended forecast for ",t),a?function(e){return e.map(function(e){return i.a.createElement(me,{key:"".concat(e.weekDay).concat(e.hour),weekDay:e.weekDay,hour:e.hour,data:e.data})})}(a):i.a.createElement(Z.a,null))},he=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.city,a=e.forecastData;return t&&i.a.createElement(fe,{city:t,forecastData:a})}}]),t}(c.Component),ye=Object(l.b)(function(e){return{city:V(e),forecastData:$(e)}},null)(he),Ee=(a(222),["Buenos Aires,ar","Washington,us","Bogota,col","Melbourne,au","Madrid,es","Lima,pe"]),pe=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(y.Grid,null,i.a.createElement(y.Row,null,i.a.createElement(v.a,{position:"sticky"},i.a.createElement(T.a,null,i.a.createElement(O.a,{variant:"title",color:"inherit"},"WeatherApp")))),i.a.createElement(y.Row,null,i.a.createElement(y.Col,{xs:12,md:6},i.a.createElement(se,{cities:Ee})),i.a.createElement(y.Col,{xs:12,md:6},i.a.createElement(p.a,{zdepth:4},i.a.createElement("div",{className:"details"},i.a.createElement(ye,null))))))}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var we=a(83),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.d,be=Object(D.e)(U,{city:"Buenos Aires,ar"},ve(Object(D.a)(we.a)));u.a.render(i.a.createElement(l.a,{store:be},i.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},38:function(e,t,a){},65:function(e,t,a){},73:function(e,t,a){},85:function(e,t,a){e.exports=a(229)}},[[85,2,1]]]);
//# sourceMappingURL=main.5785aacd.chunk.js.map