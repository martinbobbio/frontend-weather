(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{222:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"SET_CITY",function(){return A}),a.d(n,"SET_FORECAST_DATA",function(){return L}),a.d(n,"SET_WEATHER_CITY",function(){return R}),a.d(n,"GET_WEATHER_CITY",function(){return I}),a.d(n,"setSelectedCity",function(){return z}),a.d(n,"setWeather",function(){return Y});var r,c=a(0),i=a.n(c),o=a(74),u=a.n(o),l=a(18),s=a(15),d=a(16),m=a(19),f=a(17),h=a(20),y=a(21),p=a(46),E=a.n(p),b=a(80),w=a.n(b),v=a(82),O=a.n(v),j=a(81),T=a.n(j),k=a(8),C=a(34),D=a.n(C),S=a(26),_=a.n(S),N=(a(116),a(77)),g=a.n(N),x=function(e){var t,a=e.main,n=a.humidity,r=a.temp,c=e.wind.speed,i=function(e){var t=e.id;return t<300?"thunder":t<400?"drizzle":t<600?"rain":t<700?"snow":800===t?"sun":"cloud"}(e.weather[0]);return{humidity:n,temperature:(t=r,Number(g()(t).from("K").to("C").toFixed(0))),weatherState:i,wind:"".concat(c," m/s")}},W=function(e){return e.list.filter(function(e){return 12===_.a.unix(e.dt).hour()}).map(function(e){return{weekDay:_.a.unix(e.dt).format("ddd"),hour:_.a.unix(e.dt).hour(),data:x(e)}})},A="SET_CITY",L="SET_FORECAST_DATA",R="SET_WEATHER_CITY",I="GET_WEATHER_CITY",z=function(e){return function(t,a){t(function(e){return{type:A,payload:e}}(e));var n=a(),r=n.cities[e]&&n.cities[e].forecastDataDate,c=new Date;if(!(r&&c-r<6e4))return D.a.get("https://martinbobbio-weather.herokuapp.com/v1/forecast/"+e).then(function(e){return e.data.forecast}).then(function(a){var n=W(a);t(function(e){return{type:L,payload:e}}({city:e,forecastData:n}))})}},Y=function(e){return function(t){D.a.get("https://martinbobbio-weather.herokuapp.com/v1/location/").then(function(a){var n=a.data.location,r=n.regionName+","+n.countryCode.toLowerCase();e.unshift(r),e.forEach(function(e){return t({type:I,payload:e}),D.a.get("https://martinbobbio-weather.herokuapp.com/v1/current/"+e).then(function(e){return e.data.weather}).then(function(a){var n=x(a);t({type:R,payload:{city:e,weather:n}})})})})}},H=a(11),M=a(84),B=a(5),F=a(12),G=a(78),J=a.n(G),V=Object(H.a)(function(e,t){return e[t]&&e[t].forecastData},function(e){return e}),X=Object(H.a)(function(e){return K(e)},function(e){return e}),K=function(e){return J()(e).map(function(e){var t=Object(M.a)(e,2),a=t[0];return{key:a,name:a,data:t[1].weather}})},P=Object(k.c)({cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:var a=t.payload,n=a.city,r=a.forecastData;return Object(F.a)({},e,Object(B.a)({},n,Object(F.a)({},e[n],{forecastData:r,forecastDataDate:new Date})));case I:var c=t.payload;return Object(F.a)({},e,Object(B.a)({},c,Object(F.a)({},e[c],{weather:null})));case R:var i=t.payload,o=i.city,u=i.weather;return Object(F.a)({},e,Object(B.a)({},o,Object(F.a)({},e[o],{weather:u})));default:return e}},city:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return t.payload;default:return e}}}),U=Object(H.a)(function(e){return e.city},function(e){return e}),$=Object(H.a)(function(e){return e.cities},U,V),q=Object(H.a)(function(e){return e.cities},X),Q=a(32),Z=a.n(Q),ee=(a(65),function(e){var t=e.city;return i.a.createElement("div",{className:"location-container"},i.a.createElement("h1",null,t))}),te=(a(39),function(e){var t=e.humidity,a=e.wind;return i.a.createElement("div",{className:"weather-extra-info-container "},i.a.createElement("span",{className:"extra-info-text"},"Humidity: ".concat(t,"%")),i.a.createElement("span",{className:"extra-info-text"},"Wind: ".concat(a)))}),ae=a(48),ne=a.n(ae),re=(r={},Object(B.a)(r,"sun","day-sunny"),Object(B.a)(r,"cloud","cloud"),Object(B.a)(r,"rain","rain"),Object(B.a)(r,"snow","snow"),Object(B.a)(r,"thunder","day-thunderstorm"),Object(B.a)(r,"drizzle","day-showers"),r),ce=function(e){var t=e.temperature,a=e.weatherState;return i.a.createElement("div",{className:"weather-temperature-container"},function(e){var t=re[e];return t?i.a.createElement(ne.a,{className:"wicon",name:t,size:"4x"}):i.a.createElement(ne.a,{className:"wicon",name:"day-sunny",size:"4x"})}(a),i.a.createElement("span",{className:"temperature"},"".concat(t)),i.a.createElement("span",{className:"temperature-type"}," C\xb0"))},ie=function(e){var t=e.data,a=t.temperature,n=t.weatherState,r=t.humidity,c=t.wind;return i.a.createElement("div",{className:"weather-data-container"},i.a.createElement(ce,{temperature:a,weatherState:n}),i.a.createElement(te,{humidity:r,wind:c}))},oe=function(e){var t=e.onWeatherLocationClick,a=e.city,n=e.data;return i.a.createElement("div",{className:"weather-location-container",onClick:t},i.a.createElement(ee,{city:a}),n?i.a.createElement(ie,{data:n}):i.a.createElement(Z.a,null))},ue=(a(73),function(e){var t=e.cities,a=e.onSelectedLocation;return i.a.createElement("div",{className:"location-list"},function(e){return e.map(function(e){return i.a.createElement(oe,{key:e.key,city:e.name,onWeatherLocationClick:function(){return function(e){a(e)}(e.name)},data:e.data})})}(t))}),le=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleSelectionLocation=function(e){a.props.setSelectedCity(e)},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setWeather,a=e.setSelectedCity,n=e.cities,r=e.city;t(n),a(r||"Virginia,us")}},{key:"render",value:function(){return i.a.createElement(ue,{cities:this.props.citiesWeather,onSelectedLocation:this.handleSelectionLocation})}}]),t}(c.Component),se=Object(l.b)(function(e){return{citiesWeather:q(e),city:U(e)}},function(e){return Object(k.b)(n,e)})(le),de=function(e){switch(e){case"dom.":return"Sunday";case"lun.":return"Monday";case"mar.":return"Tuesday";case"mi\xe9.":return"Wednesday";case"jue.":return"Thursday";case"vie.":return"Friday";case"s\xe1b.":return"Saturday";default:return""}},me=function(e){var t=e.weekDay,a=e.data;return i.a.createElement("div",null,i.a.createElement("h2",null,de(t)),i.a.createElement(ie,{data:a}))},fe=function(e){var t=e.city,a=e.forecastData;return i.a.createElement("div",null,i.a.createElement("h2",{className:"forecast-title"},"Extended forecast for ",t),a?function(e){return e.map(function(e){return i.a.createElement(me,{key:"".concat(e.weekDay).concat(e.hour),weekDay:e.weekDay,hour:e.hour,data:e.data})})}(a):i.a.createElement(Z.a,null))},he=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.city,a=e.forecastData;return t&&i.a.createElement(fe,{city:t,forecastData:a})}}]),t}(c.Component),ye=Object(l.b)(function(e){return{city:U(e),forecastData:$(e)}},null)(he),pe=(a(222),["Buenos Aires,ar","Bogota,col","Melbourne,au","Madrid,es","Lima,pe"]),Ee=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(y.Grid,null,i.a.createElement(y.Row,null,i.a.createElement(w.a,{position:"sticky"},i.a.createElement(T.a,null,i.a.createElement(O.a,{variant:"title",color:"inherit"},"WeatherApp")))),i.a.createElement(y.Row,null,i.a.createElement(y.Col,{xs:12,md:6},i.a.createElement(se,{cities:pe})),i.a.createElement(y.Col,{xs:12,md:6},i.a.createElement(E.a,{zdepth:4},i.a.createElement("div",{className:"details"},i.a.createElement(ye,null))))))}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var be=a(83),we=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||k.d,ve=Object(k.e)(P,{city:""},we(Object(k.a)(be.a)));u.a.render(i.a.createElement(l.a,{store:ve},i.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},39:function(e,t,a){},65:function(e,t,a){},73:function(e,t,a){},85:function(e,t,a){e.exports=a(229)}},[[85,2,1]]]);
//# sourceMappingURL=main.434b916a.chunk.js.map